<!DOCTYPE html>
<html>
<head>
    <title>BME280 Sensor Readings</title>
</head>
<body>
    <h2>BME280 Sensor Readings (Auto-refresh)</h2>
    <pre id="output">Loading sensor data...</pre>
    <script>
        async function updateSensor() {
            try {
                const response = await fetch("sensor.php");
                const data = await response.json();
                
                if (data.temperature === "N/A") {
                    document.getElementById("output").textContent = "Error reading sensor!";
                } else {
                    document.getElementById("output").innerHTML =
                        "Temperature: " + data.temperature + " \n" +
                        "Pressure: " + data.pressure + " \n" +
                        "Altitude: " + data.altitude + " m";
                }
            } catch (err) {
                document.getElementById("output").textContent = "Error: " + err;
            }
        }
        // Initial fetch
        updateSensor();
        // Auto-refresh every 1 second
        setInterval(updateSensor, 1000);
    </script>
</body>
</html>